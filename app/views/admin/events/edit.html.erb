<h1 class="mb-4 text-center">イベント編集</h1>

<div class="container d-flex justify-content-center">
  <div class="col-md-8 col-lg-6">
    <%= form_with(model: @event, url: admin_event_path(@event), method: :patch) do |form| %>
      <div class="form-group mb-3" style="background-color: #fff; border: 2px solid #007bff; padding: 20px; border-radius: 10px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);">
        <%= form.label :name, 'イベント名' %>
        <%= form.text_field :name, class: 'form-control', required: true %>
      </div>

      <div class="form-group mb-3" style="background-color: #fff; border: 2px solid #007bff; padding: 20px; border-radius: 10px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);">
        <%= form.label :introduction, 'イベント紹介' %>
        <%= form.text_area :introduction, class: 'form-control', rows: 4, required: true %>
      </div>

      <div class="form-group mb-3" style="background-color: #fff; border: 2px solid #007bff; padding: 20px; border-radius: 10px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);">
        <%= form.label :start_date, '開始日' %>
        <%= form.date_field :start_date, class: 'form-control', required: true %>
      </div>

      <div class="form-group mb-3" style="background-color: #fff; border: 2px solid #007bff; padding: 20px; border-radius: 10px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);">
        <%= form.label :end_date, '終了日' %>
        <%= form.date_field :end_date, class: 'form-control', required: true %>
      </div>

      <div class="form-group mb-3" style="background-color: #fff; border: 2px solid #007bff; padding: 20px; border-radius: 10px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);">
        <%= form.label :location, '場所' %>
        <%= form.text_field :location, class: 'form-control', required: true %>
      </div>

      <div class="form-group mb-3" style="background-color: #fff; border: 2px solid #007bff; padding: 20px; border-radius: 10px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);">
        <%= form.label :group_id, 'グループ' %>
        <%= form.collection_select :group_id, @groups, :id, :name, { include_blank: true }, class: 'form-control' %>
      </div>

      <!-- メンバー追加オプション -->
      <div class="form-group mb-3" style="background-color: #fff; border: 2px solid #007bff; padding: 20px; border-radius: 10px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);">
        <%= form.radio_button :add_members, 'group', checked: @add_members == 'group', id: 'event_add_members_group' %>
        <%= form.label :add_members_group, 'グループごと追加', for: 'event_add_members_group' %><br>

        <%= form.radio_button :add_members, 'individual', checked: @add_members == 'individual', id: 'event_add_members_individual' %>
        <%= form.label :add_members_individual, '個別に追加', for: 'event_add_members_individual' %>
      </div>

      <% if @add_members == 'individual' %>
        <div class="form-group mb-3" style="background-color: #fff; border: 2px solid #007bff; padding: 20px; border-radius: 10px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);">
          <%= form.label :user_ids, 'メンバー' %><br>
          <%= form.collection_check_boxes :user_ids, @event.group.users, :id, :name do |b| %>
            <div class="form-check">
              <%= b.check_box(class: 'form-check-input') %>
              <%= b.label(class: 'form-check-label') { b.text } %>
            </div>
          <% end %>
        </div>
      <% end %>

      <div class="form-group mb-4">
        <%= form.submit 'イベントを更新', class: 'btn btn-primary w-100' %>
      </div>
    <% end %>
  </div>
</div>
