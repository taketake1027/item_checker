<h1 class="mb-4 text-center">新規イベント作成</h1>

<div class="container d-flex justify-content-center">
  <div class="col-md-8 col-lg-6">
    <%= form_with(model: @event, url: admin_events_path, method: :post) do |form| %>

      <% if @event.errors.any? %>
        <div class="alert alert-danger">
          <p><%= @event.errors.count %>件のエラーが発生しました:</p>
          <ul>
            <% @event.errors.full_messages.each do |message| %>
              <li><%= message %></li>
            <% end %>
          </ul>
        </div>
      <% end %>

      <!-- イベント名 -->
      <div class="form-group mb-3">
        <%= form.label :name, 'イベント名' %>
        <%= form.text_field :name, class: 'form-control'%>
        <% if @event.errors[:name].any? %>
          <div class="error-message"><%= @event.errors[:name].join(", ") %></div>
        <% end %>
      </div>

      <!-- イベント紹介 -->
      <div class="form-group mb-3">
        <%= form.label :introduction, 'イベント紹介' %>
        <%= form.text_area :introduction, class: 'form-control', rows: 4 %>
        <% if @event.errors[:introduction].any? %>
          <div class="error-message"><%= @event.errors[:introduction].join(", ") %></div>
        <% end %>
      </div>

      <!-- 開始日と時間 -->
      <div class="form-group mb-3">
        <%= form.label :start_date, '開始日時' %>
        <%= form.datetime_local_field :start_date, class: 'form-control' %>
        <% if @event.errors[:start_date].any? %>
          <div class="error-message"><%= @event.errors[:start_date].join(", ") %></div>
        <% end %>
      </div>

      <!-- 終了日と時間 -->
      <div class="form-group mb-3">
        <%= form.label :end_date, '終了日時' %>
        <%= form.datetime_local_field :end_date, class: 'form-control' %>
        <% if @event.errors[:end_date].any? %>
          <div class="error-message"><%= @event.errors[:end_date].join(", ") %></div>
        <% end %>
      </div>

      <!-- 場所 -->
      <div class="form-group mb-3">
        <%= form.label :location, '場所' %>
        <%= form.text_field :location, class: 'form-control' %>
        <% if @event.errors[:location].any? %>
          <div class="error-message"><%= @event.errors[:location].join(", ") %></div>
        <% end %>
      </div>

      <!-- グループ追加 -->
      <div class="form-group mb-3">
        <%= form.label :group_id, 'グループ' %>
        <%= form.collection_select :group_id, @groups, :id, :name, { include_blank: true }, class: 'form-control' %>
        <% if @event.errors[:group_id].any? %>
          <div class="error-message"><%= @event.errors[:group_id].join(", ") %></div>
        <% end %>
      </div>

      <!-- 送信ボタン -->
      <div class="form-group mb-4">
        <%= form.submit 'イベントを作成', class: 'btn btn-primary w-100' %>
      </div>

      <!-- 戻るボタン -->
      <div class="mb-4 text-center">
        <%= link_to '戻る', admin_events_path, class: 'btn btn-secondary' %>
      </div>

    <% end %>
  </div>
</div>
