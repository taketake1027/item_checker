<div class="container text-center mt-3">
  <div class="row justify-content-center mb-3">
    <div class="col-md-8">
      <%= form_with url: homes_top_path, method: :get, class: 'd-flex justify-content-center', remote: true do %>
        <div class="input-group w-100">
          <%= text_field_tag :search, params[:search], placeholder: "イベント名で検索", class: 'form-control form-control-lg' %>
          <button type="submit" class="btn btn-primary btn-lg ms-2">検索</button>
        </div>
      <% end %>
    </div>
  </div>

  <h2 class="my-3 text-dark">イベント一覧</h2>

  <!-- ソートボタン -->
  <div class="mb-3">
    <%= link_to "すべて", homes_top_path(sort: nil), class: "btn #{params[:sort].nil? ? 'btn-primary' : 'btn-outline-primary'}" %>
    <%= link_to "開催予定", homes_top_path(sort: "upcoming"), class: "btn #{params[:sort] == 'upcoming' ? 'btn-primary' : 'btn-outline-primary'}" %>
    <%= link_to "終了済み", homes_top_path(sort: "past"), class: "btn #{params[:sort] == 'past' ? 'btn-primary' : 'btn-outline-primary'}" %>
  </div>

  <!-- イベントリスト -->
  <%= render 'events_list', events: @events || [] %>

  <div class="d-flex justify-content-center mb-3">
    <%= paginate @events, class: 'pagination' %>
  </div>
</div>
