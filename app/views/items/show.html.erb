<div class="container mt-4">
  <h1 class="text-center mb-4"><%= @item.name %></h1>

  <div class="row">
    <!-- アイテム詳細情報 -->
    <div class="col-md-8">
      <!-- アイテム名 -->
      <div class="mb-3 p-3 bg-white rounded shadow-sm">
        <p><strong>アイテム名:</strong> <%= @item.name %></p>
      </div>

      <!-- アイテム説明 -->
      <div class="mb-3 p-3 bg-white rounded shadow-sm">
        <p><strong>アイテム説明:</strong> <%= @item.introduction %></p>
      </div>

      <!-- 進捗状況 -->
      <div class="mb-3 p-3 bg-white rounded shadow-sm">
        <p><strong>進捗状況:</strong>
          <% if @item.status == '完了' %>
            <span class="text-success"><%= @item.prepared_amount %> 個 準備完了</span>
          <% elsif @item.status == '未完了' %>
            <span class="text-warning"><%= "#{@item.prepared_amount}/#{@item.amount}" %> 個 準備中</span>
          <% end %>
        </p>
      </div>

      <!-- 関連イベントの表示 -->
      <div class="mb-3 p-3 bg-white rounded shadow-sm">
        <p><strong>関連イベント:</strong> 
          <%= @item.event.name %>（開催日: <%= @item.event.start_date.strftime('%Y-%m-%d') if @item.event.start_date %>）</p>
      </div>
    </div>

    <!-- アイテム画像 -->
    <div class="col-md-4">
      <% if @item.image.attached? %>
        <%= image_tag @item.image, class: 'img-fluid rounded shadow', alt: @item.name %>
      <% else %>
        <!-- 画像がない場合の処理 -->
        <div class="text-center">
          <%= image_tag 'sample.png', class: 'img-fluid rounded shadow', alt: 'サンプル画像' %>
          <p class="mt-2 text-muted"><strong>画像が登録されていません。</strong></p>
        </div>
      <% end %>
    </div>
  </div>

  <div class="text-center mt-4">
    <%= link_to '戻る', event_items_path(@item.event), class: 'btn btn-secondary' %>
  </div>
</div>
